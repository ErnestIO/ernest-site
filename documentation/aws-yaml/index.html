<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>AWS YAML Reference  &middot; ernest.io</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="AWS YAML Reference  &middot; ernest.io ">
<meta property="og:site_name" content="ernest.io"/>
<meta property="og:url" content="/documentation/aws-yaml/" />
<meta property="og:locale" content="en-EN">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2016-06-06T00:00:00Z" />
<meta property="og:article:modified_time" content="2016-06-06T00:00:00Z" />

  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@r3labs" />
<meta name="twitter:creator" content="@r3labs" />
<meta name="twitter:title" content="AWS YAML Reference" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="/documentation/aws-yaml/" />
<meta name="twitter:domain" content="/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "AWS YAML Reference",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2016-06-06",
    "description": "",
    "wordCount":  3272 
  }
</script>



<link rel="canonical" href="/documentation/aws-yaml/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/ernest-dog.ico">
<link rel="icon" href="/img/ernest-dog.ico">
<meta name="generator" content="Hugo 0.16-DEV" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300|Raleway" rel="stylesheet">

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="/css/bootswatch/ernest/bootstrap.min.css">


<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/style.css">


  <link rel="stylesheet" href="/css/highlight/solarized_dark.css">


  <script src="https://use.fontawesome.com/2abc4da92a.js"></script>
  <link href="https://cdn.jsdelivr.net/github-markdown-css/2.4.1/github-markdown.css" type="text/css" rel="stylesheet" media="screen" />
</head>
<body class="map[name:ernest]" data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    
<header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header navbar-left">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a href="/">
          <img src="/img/dog-round.png" alt="Ernest logo">
          ernest
        </a>
      </div>
      <div id="navbar" class="collapse navbar-collapse navbar-right">
        
        <ul class="nav navbar-nav navbar-right">
        
        
          <li class="">          
            <a href="/documentation"
            >
            
            DOCUMENTATION
            </a>
          </li>
          
        
          <li class="">          
            <a href="/download"
            >
            
            DOWNLOAD
            </a>
          </li>
          
        
          <li class="">          
            <a href="/community"
            >
            
            COMMUNITY
            </a>
          </li>
          
        
          <li class="">          
            <a href="/support"
            >
            
            SUPPORT
            </a>
          </li>
          
        
          <li class="">          
            <a href="/developer"
            >
            
            DEVELOPER
            </a>
          </li>
          
        </ul>
      </div>
      
    </div>
  </nav>
</header>


<div class="container">
  <div class="row">
    <div class="left-nav-con col-md-3 hidden-xs hidden-sm">
      <ul class="sub-menu list-unstyled">
  
  

	<li class="main-menu-item">

    
    <span class="main-menu-item-title">Introduction</span>
    


    
    
    
    <ul class="list-unstyled">
    
    
    <li class="">
      <a href="/developer/">Overview </a>

      
   		
   		

      </li>
      
      
    
    <li class="">
      <a href="/documentation/quickstart/">Quickstart </a>

      
   		
   		

      </li>
      
      
    
    <li class="">
      <a href="/documentation/cli-guide/">CLI Guide </a>

      
   		
   		

      </li>
      
      
    
    <li class="">
      <a href="/documentation/cli-cmds/">CLI Command Reference </a>

      
   		
   		

      </li>
      
      
    
    <li class="">
      <a href="/documentation/salt-boot/">Bootstrapping with Salt </a>

      
   		
   		

      </li>
      
      
    </ul>
    

  </li>
  

	<li class="main-menu-item active">

    
    <span class="main-menu-item-title">Amazon Web Services</span>
    


    
    
    
    <ul class="list-unstyled">
    
    
    <li class="">
      <a href="/documentation/aws-intro/">AWS Introduction </a>

      
   		
   		

      </li>
      
      
    
    <li class="">
      <a href="/documentation/aws-examples/">AWS Examples </a>

      
   		
   		

      </li>
      
      
    
    <li class="active">
      <a href="/documentation/aws-yaml/">AWS YAML Reference </a>

      
   		
   		

      </li>
      
      
    </ul>
    

  </li>
  

	<li class="main-menu-item">

    
    <span class="main-menu-item-title">vCloud Director</span>
    


    
    
    
    <ul class="list-unstyled">
    
    
    <li class="">
      <a href="/documentation/vcloud-intro/">vCloud Introduction </a>

      
   		
   		

      </li>
      
      
    
    <li class="">
      <a href="/documentation/vcloud-examples/">vCloud Examples </a>

      
   		
   		

      </li>
      
      
    
    <li class="">
      <a href="/documentation/vcloud-yaml/">vCloud YAML Reference </a>

      
   		
   		

      </li>
      
      
    </ul>
    

  </li>
  
</ul>

    </div>
    <div class="content col-md-9">
      

<h1 id="amazon-web-services-yaml-reference">Amazon Web Services YAML Reference</h1>

<p>Environments built and managed with Ernest are defined in YAML format.</p>

<h2 id="example">Example</h2>

<pre><code>---
name: demo
datacenter: my-dc
vpc_id: vpc-abcdef01
vpc_subnet: 10.0.0.0/16

networks:
  - name: web
    subnet: 10.0.10.0/24
    public: true
  - name: db
    subnet: 10.0.11.0/24
    public: false
    nat_gateway: db-nat
  - name: db-standby
    subnet: 10.0.12.0/24
    public: false
    nat_gateway: db-nat

nat_gateways:
  - name: db-nat
    public_network: web

security_groups:
  - name: web-sg
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: '0'
        to_port: '65535'
    ingress:
      - ip: 10.0.0.0/16
        protocol: any
        from_port: '0'
        to_port: '65535'
      - ip: 52.211.19.211/32
        protocol: tcp
        from_port: '22'
        to_port: '22'
  - name: db-sg
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: '0'
        to_port: '65535'
    ingress:
      - ip: 10.0.0.0/16
        protocol: any
        from_port: '0'
        to_port: '65535'
      - ip: 52.211.19.211/32
        protocol: tcp
        from_port: '22'
        to_port: '22'

instances:
  - name: web
    elastic_ip: true
    type: t2.micro
    image: ami-ed82e39e
    network: web
    start_ip: 10.0.10.11
    count: 1
    key_pair: web-key
    security_groups:
      - web-sg

  - name: db
    type: t2.micro
    image: ami-ed82e39e
    network: db
    start_ip: 10.0.11.11
    count: 1
    key_pair: db-key
    security_groups:
      - db-sg

loadbalancers:
  - name: elb-1
    private: false
    networks:
      - web
    instances:
      - web
    listeners:
      - from_port: 80
        to_port: 80
        protocol: http
      - from_port: 443
        to_port: 443
        protocol: https
        ssl_cert: ssl-cert-id
    security_groups:
      - web-sg

s3_buckets:
  - name: bucket-1
    acl: private
    bucket_location: eu-west-1
    grantees:
      - id: foo
        type: emailaddress, id, uri
        permissions: full, read, read-acl, write-acl

route53_zones:
  - name: example.com
    private: false
    records:
      - entry: one.example.com
        type: A
        ttl: 3600
        instances:
          - web-1
      - entry: two.example.com
        type: CNAME
        ttl: 3600
        loadbalancers:
          - elb-1
      - entry: three.example.com
        type: MX
        ttl: 3600
        values:
          - 8.8.8.8
          - 8.8.4.4
      - entry: db.example.com
        type: CNAME
        ttl: 3600
        rds_clusters:
          - rds-aurora

rds_clusters:
  - name: rds-aurora
    engine: aurora
    port: 3306
    networks:
      - db
      - db-standby
    security_groups:
      - db-sg-1
    database_name: test
    database_username: test
    database_password: testpass-2

rds_instances:
  - name: rds-test-1
    cluster: rds-test
    size: db.r3.xlarge
</code></pre>

<h2 id="field-reference">Field Reference</h2>

<h3 id="service-options">Service Options</h3>

<pre><code>name: demo
datacenter: my-dc
vpc_id: vpc-abcdef01
vpc_subnet: 10.0.0.0/16

</code></pre>

<p>Service Options support the following fields:</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>String that defines the name of the service to build.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>

<li><p><strong>datacenter</strong></p>

<ul>
<li>String that defines the name of the datacenter where the service is built.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field must 50 characters maximum.</li>
</ul></li>

<li><p><strong>vpc_id</strong></p>

<ul>
<li>String that defines the ID of the existing VPC the service will use.</li>
<li>This field is mandatory, unless <strong>vpc_subnet</strong> is present.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>

<li><p><strong>vpc_subnet</strong></p>

<ul>
<li>String that defines the subnet of the VPC that will be created for the service to use.</li>
<li>This field is mandatory, unless <strong>vpc_id</strong> is present.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field must 50 characters maximum.</li>
</ul></li>
</ul>

<h3 id="networking">Networking</h3>

<pre><code>networks:
  - name: web
    subnet: 10.0.10.0/24
    public: true
  - name: db
    subnet: 10.0.11.0/24
    public: false
    nat_gateway: db-nat

nat_gateways:
  - name: db-nat
    public_network: web

</code></pre>

<p>Networking supports the following fields:</p>

<p><strong>networks</strong></p>

<p>A network is a subnet that our instances can connect to. This is what allows us to network/isolate VM’s together.</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>String that defines the name of the subnet to build.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>

<li><p><strong>subnet</strong></p>

<ul>
<li>String that defines the IP address range of the subnet.</li>
<li>It must follow CIDR notation as described at: <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing" target="_blank">https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing</a></li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be unique for this user &amp; all the networks on the manifest.</li>
</ul></li>

<li><p><strong>public</strong></p>

<ul>
<li>String that defines if the subnet will be public or private.</li>
<li>This field is optional.</li>
<li>Values can be: “true“ or “false“.</li>
<li>This field will default to “false“.</li>
</ul></li>

<li><p><strong>nat_gateway</strong></p>

<ul>
<li>String that defines the name of the NAT gateway to use for this subnet.</li>
<li>This field is optional.</li>
<li>This field can be empty.</li>
</ul></li>
</ul>

<p><strong>nat_gateways</strong></p>

<p>NAT gateways enable instances in a private subnet to connect to the Internet or other AWS services, but prevent the Internet from initiating a connection with those instances.</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>String that defines the name of the NAT gateway to build.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>

<li><p><strong>public_network</strong></p>

<ul>
<li>String that defines the name of the public network the NAT gateway will reside.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>
</ul>

<h3 id="security-groups">Security Groups</h3>

<pre><code>security_groups:
  - name: web-sg
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: '0'
        to_port: '65535'
    ingress:
      - ip: 10.0.0.0/16
        protocol: any
        from_port: '0'
        to_port: '65535'

</code></pre>

<p>Security Groups support the following fields:</p>

<ul>
<li><strong>name</strong>

<ul>
<li>String that defines the name of the security group to build.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>
</ul>

<p><strong>egress</strong></p>

<p>Security group egress rules.</p>

<ul>
<li><p><strong>ip</strong></p>

<ul>
<li>String that defines the IP address range for this rule.</li>
<li>It must follow CIDR notation as described at: <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing" target="_blank">https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing</a></li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>protocol</strong></p>

<ul>
<li>String that defines the protocol for this rule.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>Values can be: tcp | udp | icmp | any</li>
</ul></li>

<li><p><strong>from_port</strong></p>

<ul>
<li>Starting port-range number.</li>
<li>This field is mandatory.</li>
<li>Values can be: 0 - 65535.</li>
</ul></li>

<li><p><strong>to_port</strong></p>

<ul>
<li>Ending port-range number.</li>
<li>This field is mandatory.</li>
<li>Values can be: 0 - 65535.</li>
</ul></li>
</ul>

<p><strong>ingress</strong></p>

<p>Security group ingress rules.</p>

<ul>
<li><p><strong>ip</strong></p>

<ul>
<li>String that defines the IP address range for this rule.</li>
<li>It must follow CIDR notation as described at: <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing" target="_blank">https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing</a></li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>protocol</strong></p>

<ul>
<li>String that defines the protocol for this rule.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>Values can be: tcp | udp | icmp | any</li>
</ul></li>

<li><p><strong>from_port</strong></p>

<ul>
<li>Starting port-range number.</li>
<li>This field is mandatory.</li>
<li>Values can be: 0 - 65535.</li>
</ul></li>

<li><p><strong>to_port</strong></p>

<ul>
<li>Ending port-range number.</li>
<li>This field is mandatory.</li>
<li>Values can be: 0 - 65535.</li>
</ul></li>
</ul>

<h3 id="instances">Instances</h3>

<pre><code>instances:
  - name: web
    elastic_ip: true
    type: t2.micro
    image: ami-ed82e39e
    network: web
    start_ip: 10.0.10.11
    count: 1
    key_pair: web-key
    security_groups:
      - web-sg

</code></pre>

<p>Instances support the following fields:</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>String that defines the name of the instance to build.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be unique by user &amp; manifest.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>

<li><p><strong>elastic_ip</strong></p>

<ul>
<li>String that defines if the instance will be assigned an elastic IP.</li>
<li>This field is optional.</li>
<li>Values can be: “true“ or “false“.</li>
<li>This field will default to “false“.</li>
</ul></li>

<li><p><strong>type</strong></p>

<ul>
<li>String that defines the instance size.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be a valid AWS EC2 size.</li>
</ul></li>

<li><p><strong>image</strong></p>

<ul>
<li>String that defines the name of an AMI to install.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>network:</strong></p>

<ul>
<li>String that defines the name of a network to attach this instance.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>The value of this field should exist on the networks section previously specified.</li>
</ul></li>

<li><p><strong>start_ip:</strong></p>

<ul>
<li>String that defines the starting IP to allocate the VMs to be built.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be a valid IP.</li>
<li>This IP should belong to the network already defined on the instance.</li>
</ul></li>

<li><p><strong>count</strong></p>

<ul>
<li>Integer that defines the number of instances to be created.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be greater or equal that 1</li>
</ul></li>

<li><p><strong>key_pair</strong></p>

<ul>
<li>String that specifies the key pair to be used to login to the instances.</li>
<li>This field is optional.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>security_groups</strong></p>

<ul>
<li>Array that contains security groups that will be applied to the instances.</li>
<li>This field is optional.</li>
<li>This field can be empty.</li>
</ul></li>
</ul>

<h3 id="load-balancers">Load Balancers</h3>

<pre><code>loadbalancers:
  - name: elb-1
    private: false
    subnets:
      - web-subnet
    instances:
      - web
    listeners:
      - from_port: 80
        to_port: 80
        protocol: http
      - from_port: 443
        to_port: 443
        protocol: https
        ssl_cert: ssl-cert-id
    security_groups:
      - web-sg

</code></pre>

<p>Loadbalancers support the following fields:</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>String that defines the name of the instance to build.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be unique by user &amp; manifest.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>

<li><p><strong>private</strong></p>

<ul>
<li>Boolean that defines if the loadbalancer will be private or public.</li>
<li>This field is optional.</li>
<li>Values can be: “true“ or “false“.</li>

<li><p>This field will default to “false“.</p></li>

<li><p><strong>networks</strong></p></li>

<li><p>Array of String&rsquo;s that defines which public network/subnet to attach to the ELB.</p></li>

<li><p>This field is mandatory if private is set to false.</p></li>

<li><p>This field cannot be null or empty.</p></li>

<li><p>This field must specify a network/subnet that exists on the yaml.</p></li>

<li><p>Only one subnet can be deployed per availablilty zone. It is advised that you specify an AZ when defining a network/subnet.</p></li>
</ul></li>

<li><p><strong>instances</strong></p>

<ul>
<li>Array of String&rsquo;s that defines which group of instances to add to the ELB.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must specify an instance group that exists on the yaml.</li>
</ul></li>

<li><p><strong>security_groups</strong></p>

<ul>
<li>Array of String&rsquo;s that defines which security groups to apply to the ELB.</li>
<li>This field not is mandatory.</li>
<li>This field must specify a security group that exists on the yaml.</li>
</ul></li>
</ul>

<p><strong>listeners</strong></p>

<p>ELB Listeners.</p>

<ul>
<li><p><strong>protocol</strong></p>

<ul>
<li>String that defines the protocol for this rule.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>Values can be: http | https | ssl | tcp</li>
<li>If https or ssl is specified, an ssl_cert must be specified.</li>
</ul></li>

<li><p><strong>from_port</strong></p>

<ul>
<li>Starting port-range number.</li>
<li>This field is mandatory.</li>
<li>Values can be: 1 - 65535.</li>
</ul></li>

<li><p><strong>to_port</strong></p>

<ul>
<li>Ending port-range number.</li>
<li>This field is mandatory.</li>
<li>Values can be: 1 - 65535.</li>
</ul></li>

<li><p><strong>ssl_cert</strong></p>

<ul>
<li>The ssl certificate ID of a valid AWS Certificate Manager (ACM) cert.</li>
<li>This field is mandatory only if protocol is set to https or ssl.</li>
</ul></li>
</ul>

<h3 id="s3-buckets">S3 Buckets</h3>

<pre><code>s3_buckets:
  - name: bucket-1
    acl: private
    bucket_location: eu-west-1
    grantees:
      - id: foo
        type: emailaddress, id, uri
        permissions: full, read, read-acl, write-acl
</code></pre>

<p>S3 support the following fields:</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>(string) name of the bucket.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be unique by user &amp; manifest.</li>
<li>The value of this field must be 50 characters maximum.</li>
</ul></li>

<li><p><strong>acl</strong></p>

<ul>
<li>(string) the canned ACL to apply to the bucket.</li>
<li>The value of this field can be private, public-read, public-read-write</li>
<li>or authenticated-read</li>
</ul></li>

<li><p><strong>bucket_location</strong></p>

<ul>
<li>(string) the location constraint</li>
<li>The value of this field can be EU, eu-west-1, us-west-1, us-west-2,</li>
<li>ap-south-1, ap-southeast-2, ap-northeast-1, sa-east-1, cn-north-1 or</li>
<li>eu-central-1</li>
</ul></li>

<li><p><strong>grantees</strong></p>

<ul>
<li>(collection) List of permissions on the bucket.</li>
</ul></li>

<li><p><strong>id</strong></p>

<ul>
<li>(string) Grantee name</li>
</ul></li>

<li><p><strong>type</strong></p>

<ul>
<li>(string) Grantee type</li>
<li>Possible values : email address, id or uri</li>
</ul></li>

<li><p><strong>permissions</strong></p>

<ul>
<li>(string) Permissions for this grantee on the bucket</li>
<li>Possible values: full, read, read-acl and write-acl</li>
</ul></li>
</ul>

<p>### Route53 Zones</p>

<pre><code> route53_zones:
   - name: example.com
     private: false
     records:
       - entry: one.example.com
         type: A
         ttl: 3600
         values:
           - 8.8.8.8
</code></pre>

<p>S3 support the following fields:</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>(string) The domain name of the zone.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be unique by user &amp; manifest.</li>
</ul></li>

<li><p><strong>private</strong></p>

<ul>
<li>(boolean) sets the zone to be private hosted zone.</li>
<li>The value of this field can be true or false. Default is false.</li>
</ul></li>
</ul>

<p><strong>records</strong></p>

<p>The collection of DNS entries you want to host.</p>

<ul>
<li><p><strong>entry</strong></p>

<ul>
<li>(string) the full domain record entry</li>
<li>The value of this field should be an F.Q.D.N (fully qualified domain name)</li>
</ul></li>

<li><p><strong>Type</strong></p></li>

<li><p>(string) the full domain record entry</p></li>

<li><p>The value of this field should be one of &lsquo;A&rsquo;, &lsquo;AAAA&rsquo;, &lsquo;CNAME&rsquo;, &lsquo;MX&rsquo;, &lsquo;PTR&rsquo;, &lsquo;TXT&rsquo;, &lsquo;SRV&rsquo;, &lsquo;SPF&rsquo;, &lsquo;NAPTR&rsquo;, &lsquo;NS&rsquo;, &lsquo;SOA&rsquo;</p></li>

<li><p><strong>TTL</strong></p></li>

<li><p>(int) the expiration period of the entry.</p></li>

<li><p>The value of this field should be greater than 0</p></li>

<li><p><strong>values</strong></p>

<ul>
<li>Array of strings. The values the entry will return</li>
<li>These values must be valid for the type of record you have selected.</li>
</ul></li>

<li><p><strong>Loadbalancers</strong></p>

<ul>
<li>Array of strings. The loadbalancers you wish the entry to resolve to.</li>
<li>The type of record must be set to CNAME</li>
<li>You must specify only loadbalancers or instances, not both.</li>
</ul></li>

<li><p><strong>instances</strong></p>

<ul>
<li>Array of strings. The loadbalancers you wish the entry to resolve to.</li>
<li>The type of record must be set to A</li>
<li>This must target the individual instance, including the instances number, i.e. web-1</li>
<li>You must specify only loadbalancers or instances, not both.</li>
</ul></li>
</ul>

<h3 id="rds-clusters">RDS Clusters</h3>

<pre><code>rds_clusters:
  - name: aurora-test
    engine: aurora
    engine_version: 1.9
    public: false
    port: 3306
    availablily_zones:
      - eu-west-1a
      - eu-west-1b
      - eu-west-1c
    security_groups:
      - sg-1
    networks:
      - db-nw
    database_name: aurora-test
    database_username: username
    database_password: password
    backups:
      window: Mon:21:30-Mon:22:00
      rentention_period: 1
    maintenance_window: Mon:21:30-Mon:22:00
    final_snapshot: true

</code></pre>

<p>RDS Clusters support the following fields:</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>(string) The name of the rds cluster.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be unique by user &amp; manifest.</li>
</ul></li>

<li><p><strong>engine</strong></p>

<ul>
<li>(string) The engine type of the rds cluster.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>Currently only &lsquo;aurora&rsquo; is supported as a value.</li>
</ul></li>

<li><p><strong>engine_version</strong></p>

<ul>
<li>(string) The engine_version of the rds cluster.</li>
<li>This field is not mandatory.</li>
</ul></li>

<li><p><strong>port</strong></p>

<ul>
<li>(int) The port exposed by the rds cluster.</li>
<li>This field not is mandatory.</li>
<li>This field must be between 1150 - 65535 (default: 3306).</li>
</ul></li>

<li><p><strong>public</strong></p>

<ul>
<li>(boolean) Sets the rds cluster to be publicly accessible.</li>
<li>This field not is mandatory.</li>
<li>The value of this field can be true or alse. Default is false.</li>
</ul></li>

<li><p><strong>availability_zones</strong></p>

<ul>
<li>Array of strings. The availability zones to deploy the rds cluster to.</li>
<li>This field not is mandatory.</li>
<li>The availability zone must be in the same region as the vpc it is deployed to.</li>
<li>If the rds cluster is set to private, there must be networks specified for each availability zone.</li>
</ul></li>

<li><p><strong>security_groups</strong></p>

<ul>
<li>Array of String&rsquo;s that defines which security groups to apply to the rds cluster.</li>
<li>This field not is mandatory.</li>
<li>This field must specify a security group that exists on the yaml.</li>
</ul></li>

<li><p><strong>networks</strong></p>

<ul>
<li>Array of String&rsquo;s that defines which networks to expose the rds cluster to.</li>
<li>This field not is mandatory (if public is set to true).</li>
<li>This field must specify a security group that exists on the yaml.</li>
</ul></li>

<li><p><strong>database_name</strong></p>

<ul>
<li>(string) The database name of the rds cluster.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>database_username</strong></p>

<ul>
<li>(string) The database username of the rds cluster.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>database_username</strong></p>

<ul>
<li>(string) The database password of the rds cluster.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>maintenance_window</strong></p>

<ul>
<li>(string) The time period at which any maintenance tasks will occur.</li>
<li>This field is not mandatory.</li>
<li>Format must be a range in the structure of DDD:HH::MM-DDD:HH::MM (Day:Hour:Minute)</li>
</ul></li>

<li><p><strong>replication_source</strong></p>

<ul>
<li>(string) The target rds cluster or mysql instance to replicate from.</li>
<li>Must be a valid ARN (Amazon Resource Name).</li>
<li><a href="http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html" target="_blank">http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html</a></li>
</ul></li>

<li><p><strong>final_snapshot</strong></p>

<ul>
<li>(boolean) Performs a final snapshot when the rds cluster is deleted.</li>
<li>This field not is mandatory.</li>
<li>The value of this field can be true or alse. Default is false.</li>
</ul></li>
</ul>

<p><strong>backups</strong></p>

<p>Backup configuration.</p>

<ul>
<li><p><strong>window</strong></p>

<ul>
<li>(string) The time period at which backups will occur.</li>
<li>This field is not mandatory.</li>
<li>Format must be a range in the structure of DDD:HH::MM-DDD:HH::MM (Day:Hour:Minute)</li>
</ul></li>

<li><p><strong>retention</strong></p>

<ul>
<li>(int) The amount of time in days that backups will be retained for.</li>
<li>This field is not mandatory.</li>
<li>Must be between 1 - 35 days</li>
</ul></li>
</ul>

<h3 id="rds-instances">RDS Instances</h3>

<pre><code>rds_instances:
  - name: rds-test-1
    size: db.r3.xlarge
    engine: mysql
    engine_version: 5.7
    port: 3306
    public: true
    multi_az: true
    storage:
      type: gp2
      size: 100
      iops: 5000
    auto_upgrade: true
    final_snapshot: true
    license: bring-your-own-license
    database_name: aurora-test
    database_username: username
    database_password: password
    backups:
      window: Mon:21:30-Mon:22:00
      rentention_period: 1
    maintenance_window: Mon:21:30-Mon:22:00
    final_snapshot: true
</code></pre>

<p>RDS Instances support the following fields:</p>

<ul>
<li><p><strong>name</strong></p>

<ul>
<li>(string) The name of the rds instance.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>This field must be unique by user &amp; manifest.</li>
</ul></li>

<li><p><strong>engine</strong></p>

<ul>
<li>(string) The engine type of the rds instance.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
<li>Currently only &lsquo;aurora&rsquo; is supported as a value.</li>
</ul></li>

<li><p><strong>engine_version</strong></p>

<ul>
<li>(string) The engine_version of the rds instance.</li>
<li>This field is not mandatory.</li>
</ul></li>

<li><p><strong>port</strong></p>

<ul>
<li>(int) The port exposed by the rds instance.</li>
<li>This field not is mandatory.</li>
<li>This field must be between 1150 - 65535 (default: 3306).</li>
</ul></li>

<li><p><strong>public</strong></p>

<ul>
<li>(boolean) Sets the rds instance to be publicly accessible.</li>
<li>This field not is mandatory.</li>
<li>The value of this field can be true or alse. Default is false.</li>
</ul></li>

<li><p><strong>multi_az</strong></p>

<ul>
<li>(boolean) Deploys a synchronous standby instance in a different availability zone</li>
<li>Cannot be used in conjunction with the &lsquo;availability_zone&rsquo; parameter</li>
<li>This field not is mandatory.</li>
<li>The value of this field can be true or alse. Default is false.</li>
</ul></li>

<li><p><strong>availability_zones</strong></p>

<ul>
<li>Array of strings. The availability zones to deploy the rds instance to.</li>
<li>This field not is mandatory.</li>
<li>The availability zone must be in the same region as the vpc it is deployed to.</li>
<li>If the rds instance is set to private, there must be networks specified for each availability zone.</li>
</ul></li>

<li><p><strong>security_groups</strong></p>

<ul>
<li>Array of String&rsquo;s that defines which security groups to apply to the rds instance.</li>
<li>This field not is mandatory.</li>
<li>This field must specify a security group that exists on the yaml.</li>
</ul></li>

<li><p><strong>networks</strong></p>

<ul>
<li>Array of String&rsquo;s that defines which networks to expose the rds instance to.</li>
<li>This field not is mandatory (if public is set to true).</li>
<li>This field must specify a security group that exists on the yaml.</li>
</ul></li>

<li><p><strong>database_name</strong></p>

<ul>
<li>(string) The database name of the rds instance.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>database_username</strong></p>

<ul>
<li>(string) The database username of the rds instance.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>database_username</strong></p>

<ul>
<li>(string) The database password of the rds instance.</li>
<li>This field is mandatory.</li>
<li>This field cannot be null or empty.</li>
</ul></li>

<li><p><strong>maintenance_window</strong></p>

<ul>
<li>(string) The time period at which any maintenance tasks will occur.</li>
<li>This field is not mandatory.</li>
<li>Format must be a range in the structure of DDD:HH::MM-DDD:HH::MM (Day:Hour:Minute)</li>
</ul></li>

<li><p><strong>promotion_tier</strong></p>

<ul>
<li>(int) specifies the order in which an aurora replica is promoted to a primary.</li>
<li>This field is not mandatory.</li>
<li>Must be between 1 - 15.</li>
<li>Default is 1.</li>
</ul></li>

<li><p><strong>auto_upgrade</strong></p>

<ul>
<li>(boolean) Performs automatic upgrades on the database (minor versions only)</li>
<li>This field not is mandatory.</li>
<li>The value of this field can be true or alse. Default is false.</li>
</ul></li>

<li><p><strong>replication_source</strong></p>

<ul>
<li>(string) The target an rds instance to replicate from.</li>
<li>Must be a valid ARN (Amazon Resource Name) or instance name (if in the same region).</li>
<li><a href="http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html" target="_blank">http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html</a></li>
</ul></li>

<li><p><strong>final_snapshot</strong></p>

<ul>
<li>(boolean) Performs a final snapshot when the rds instance is deleted.</li>
<li>This field not is mandatory.</li>
<li>The value of this field can be true or alse. Default is false.</li>
</ul></li>

<li><p><strong>license</strong></p>

<ul>
<li>(string) The type of license you want to use with the database</li>
<li>This field is not mandatory.</li>
<li>Must be one of &lsquo;license-included&rsquo;, &lsquo;bring-your-own-license&rsquo; or &lsquo;general-public-license&rsquo;</li>
</ul></li>
</ul>

<p><strong>storage</strong></p>

<p>Storage configuration. Only configurable when using a non-aurora engine.</p>

<ul>
<li><p><strong>type</strong></p>

<ul>
<li>(string) The type of storage you want to use.</li>
<li>This field is not mandatory.</li>
<li>Must be one of &lsquo;gp2&rsquo; (general purpose SSD), &lsquo;io1&rsquo; (performance optimised SSD) or &lsquo;standard&rsquo; (magnetic disk)</li>
<li>If io1 is specified, you must also set the &lsquo;iops&rsquo; parameter</li>
</ul></li>

<li><p><strong>size</strong></p>

<ul>
<li>(int) The amount of storage (GB) that you want to use.</li>
<li>This field is not mandatory.</li>
<li>Must be a value between 5 - 6144.</li>
<li>Minimum size can vary between engine types.</li>
</ul></li>

<li><p><strong>iops</strong></p>

<ul>
<li>(int) The amount of iops that you want the database to be limited to.</li>
<li>This field is mandatory if storage type is &lsquo;io1&rsquo;.</li>
<li>This field must only be used in conjunction with &lsquo;io1&rsquo; as a storage type.</li>
<li>Must be a multiple between 3 and 10 of the storage amount.</li>
<li>Must also be an integer multiple of 1000.</li>
</ul></li>
</ul>

<p><strong>backups</strong></p>

<p>Backup configuration.</p>

<ul>
<li><p><strong>window</strong></p>

<ul>
<li>(string) The time period at which backups will occur.</li>
<li>This field is not mandatory.</li>
<li>Format must be a range in the structure of DDD:HH::MM-DDD:HH::MM (Day:Hour:Minute)</li>
</ul></li>

<li><p><strong>retention</strong></p>

<ul>
<li>(int) The amount of time in days that backups will be retained for.</li>
<li>This field is not mandatory.</li>
<li>Must be between 1 - 35 days</li>
</ul></li>
</ul>

    </div>
  </div>
</div>
      <footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-6 footer-left">
          <h3>A project by <a href="http://r3labs.io" target="blank">R3 Labs</a></h3>
        </div>
        <div class="col-xs-6 footer-right">
          <h3>
            <a href="https://twitter.com/r3labs" target="_blank"><i class="fa fa-twitter"></i></a>
            <a href="/slack"><i class="fa fa-slack"></i></a>
            <a href="https://github.com/ernestio" target="_blank"><i class="fa fa-github"></i></a>
            <a href="https://groups.google.com/forum/#!forum/ernestio" target="_blank"><i class="fa fa-google"></i></a>
            <a href="https://www.facebook.com/r3labsio/" target="_blank"><i class="fa fa-facebook"></i></a>
          </h3>
        </div>
    </div>
  </div>
  
</footer>

    

<script src="//s3.amazonaws.com/mailmunch/static/site.js" id="mailmunch-script" data-mailmunch-site-id="" async="async"></script>





<script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
<script src="/js/popover/angular-storage.min.js"></script>


<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//shortname.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="/js/highlight.pack.js"></script>
<script src="/js/site.js"></script>
<script>hljs.configure({ languages: [] });</script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
  var _gaq=[['_setAccount','UA-86033085-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script>
var ENABLE_POPOVER =  false ; 
var EXPIRE_COOKIE =  5 ; 
var SHOW_MODAL_TIMEOUT =  10000 ; 
var MOUSE_LEAVE =  true ; 
var MODAL_SIZE = ""; 
var POST_URL = "https://zapier.com/hooks/catch/1227563/"; 
var SIGNUP_HEADER = "Join Our Newsletter";
var HEADER_IMAGE = "//placehold.it/1000x600";
var IMG_DESCRIPTION = "Placeholder image for this popover modal optin form";
var SIGNUP_TEXT = "Signup today for free and be the first to get notified on new updates.";
var INPUT_PLACEHOLDER = "Enter your email";
var SUBMIT_BUTTON = "Subscribe";
var SUCCESS_MESSAGE = "Thanks for your subscription!";
var ERROR_MESSAGE = "Submitting form failed!";
var OPTIN =  true ;
var COOKIE_NAME = "mycookie1";
</script>
<script src="/js/popover/angular-modal-service.min.js"></script>
<script src="/js/angular-ismobile.min.js"></script>
<script src="/js/popover/popover.min.js"></script>

  </body>
</html>

